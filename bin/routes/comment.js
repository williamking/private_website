// Generated by LiveScript 1.3.1
(function(){
  var express, bcrypt, mongoose, router, requireLogin, hasLogin, Comment, Article;
  express = require('express');
  bcrypt = require('bcrypt');
  mongoose = require('mongoose');
  router = express.Router();
  requireLogin = require('./authorization/authorize.js').requireLogin;
  hasLogin = require('./authorization/authorize').hasLogin;
  Comment = require('../models/Comment.js');
  Article = require('../models/Article.js');
  router.post('/create/:id', function(req, res){
    var ref$, content, commentor, replyTo, id;
    ref$ = req.body, content = ref$.content, commentor = ref$.commentor, replyTo = ref$.replyTo;
    id = req.params.id;
    console.log(id);
    Comment.addComment(content, commentor, null, function(err, comment){
      if (err) {
        res.json({
          result: 'Server Error',
          msg: err.status
        });
      } else {
        res.json({
          result: 'Success'
        });
        console.log(comment);
      }
    });
  });
  module.exports = router;
}).call(this);
